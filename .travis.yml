language: python
python:
  - "2.7"
install:
  - pip install tox
script:
  - python2 setup.py --format=gztar,zip bdist_wheel

  - bash -c 'python2 -m pip install --force-reinstall dist/*.whl'
  - bash -c 'python2 -m pip install --force-reinstall dist/*.tar.gz'
  - bash -c 'python2 -m pip install --force-reinstall dist/*.zip'

  - bash -c 'pypy -m pip install --force-reinstall dist/*.whl'
  - bash -c 'pypy -m pip install --force-reinstall dist/*.tar.gz'
  - bash -c 'pypy -m pip install --force-reinstall dist/*.zip'

  - bash -c 'python3 -m pip install --force-reinstall dist/*.whl'
  - bash -c 'python3 -m pip install --force-reinstall dist/*.tar.gz'
  - bash -c 'python3 -m pip install --force-reinstall dist/*.zip'

  - tox
